window.__require=function e(t,n,i){function s(r,c){if(!n[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var h="function"==typeof __require&&__require;if(!c&&h)return h(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+r+"'")}}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return s(t[r][1][e]||e)},l,l.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof __require&&__require,r=0;r<i.length;r++)s(i[r]);return s}({Animation:[function(e,t,n){"use strict";cc._RF.push(t,"5f6e62zNrpOcYn2DbtO2Pr8","Animation");var i=e("mEmitter");cc.Class({extends:cc.Component,properties:{spineBoy:sp.Skeleton,_moveLeft:null,_jump:null,_moveRight:null,_flag:!1,_moveDown:null,_shot:null},onLoad:function(){this._moveDown=this.moveDown.bind(this),this._jump=this.jump.bind(this),this._moveLeft=this.moveLeft.bind(this),this._moveRight=this.moveRight.bind(this),this._shot=this.shot.bind(this),i.instance=new i,i.instance.registerEvent("MOVELEFT",this._moveLeft),i.instance.registerEvent("MOVERIGHT",this._moveRight),i.instance.registerEvent("JUMP",this._jump),i.instance.registerEvent("MOVEDOWN",this._moveDown),i.instance.registerEvent("SHOT",this.shot),i.instance.registerEvent("MOVELEFT_up",this._moveLeft),i.instance.registerEvent("MOVERIGHT_up",this._moveRight),i.instance.registerEvent("JUMP_up",this._jump),i.instance.registerEvent("MOVEDOWN_up",this._moveDown),i.instance.registerEvent("SHOT_up",this.shot)},moveDown:function(e){var t=this;this._flag||(this._flag=!0,this.spineBoy.addAnimation(0,"hoverboard",!0),this.spineBoy.setEventListener(function(e,n){0!=e.animationEnd&&(t._flag=!1)}))},shot:function(e){var t=this;this._flag||(this._flag=!0,this.spineBoy.addAnimation(0,"shoot",!0),this.spineBoy.setEventListener(function(e,n){0!=e.animationEnd&&(t._flag=!1)}))},jump:function(e){var t=this;cc.log(e),this._flag||(this._flag=!0,this.spineBoy.setAnimation(0,"jump",!1),this.spineBoy.addAnimation(0,"idle-turn",!1),this.spineBoy.addAnimation(0,"idle",!0),this.spineBoy.setEventListener(function(e,n){0!=e.animationEnd&&(t._flag=!1)}))},moveLeft:function(e){cc.log(e),!this._flag&&e?(this._flag=!0,this.node.runAction(cc.flipX(!0)),this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.2,-10,0),cc.moveBy(.3,-20,0)))),this.spineBoy.setAnimation(0,"walk",!1),this.spineBoy.addAnimation(0,"run",!0)):this._flag&&e||(this._flag=!1,this.node.stopAllActions(),this.spineBoy.setAnimation(0,"run-to-idle",!1),this.spineBoy.addAnimation(0,"idle",!0))},moveRight:function(e){cc.log(e),!this._flag&&e?(this._flag=!0,this.node.runAction(cc.flipX(!1)),this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.2,10,0),cc.moveBy(.3,20,0)))),this.spineBoy.setAnimation(0,"walk",!1),this.spineBoy.addAnimation(0,"run",!0)):this._flag&&e||(this._flag=!1,this.node.stopAllActions(),this.spineBoy.setAnimation(0,"run-to-idle",!1),this.spineBoy.addAnimation(0,"idle",!0))},start:function(){this.spineBoy.addAnimation(0,"portal",!1),this.spineBoy.addAnimation(0,"idle",!0)}}),cc._RF.pop()},{mEmitter:"mEmitter"}],1:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(e){return"function"==typeof e}function o(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function c(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,a,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(c(n=this._events[e]))return!1;if(s(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(r(n))for(o=Array.prototype.slice.call(arguments,1),i=(h=n.slice()).length,a=0;a<i;a++)h[a].apply(this,o);return!0},i.prototype.addListener=function(e,t){var n;if(!s(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,s(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(n=c(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!s(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,o,c;if(!s(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||s(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(c=o;c-- >0;)if(n[c]===t||n[c].listener&&n[c].listener===t){i=c;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?s(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(s(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],Move:[function(e,t,n){"use strict";cc._RF.push(t,"9e715DJfIRN16XF0yutm5oI","Move");var i=e("mEmitter");cc.Class({extends:cc.Component,properties:{spineBoy:sp.Skeleton,_flag:!1},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.left:this._flag||(this._flag=!0,console.log(" Left"),i.instance.emit("MOVELEFT",!0));break;case cc.macro.KEY.right:this._flag||(this._flag=!0,console.log("Left"),i.instance.emit("MOVERIGHT",!0));break;case cc.macro.KEY.up:this._flag||(this._flag=!0,console.log("Up"),i.instance.emit("JUMP",!0));break;case cc.macro.KEY.down:this._flag||(this._flag=!0,console.log("down"),i.instance.emit("MOVEDOWN",!0));break;case cc.macro.KEY.space:this._flag||(this._flag=!0,console.log("space"),i.instance.emit("SHOT",!0))}},onKeyUp:function(e){switch(e.keyCode){case cc.macro.KEY.up:this._flag=!1,console.log("Release Up"),i.instance.emit("JUMP_up",!1);break;case cc.macro.KEY.left:this._flag=!1,console.log("Release Left"),i.instance.emit("MOVELEFT_up",!1);break;case cc.macro.KEY.right:this._flag=!1,console.log("Release Right"),i.instance.emit("MOVERIGHT_up",!1);break;case cc.macro.KEY.down:this._flag||(this._flag=!0,console.log("down"),i.instance.emit("MOVEDOWN_up",!0));break;case cc.macro.KEY.space:this._flag||(this._flag=!0,console.log("space"),i.instance.emit("SHOT_UP",!0))}},start:function(){}}),cc._RF.pop()},{mEmitter:"mEmitter"}],mEmitter:[function(e,t,n){"use strict";cc._RF.push(t,"feba2ls0eZEc725EwvmBq2M","mEmitter");var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("events"),r=function(){function e(){s(this,e),this._emiter=new o,this._emiter.setMaxListeners(100)}return i(e,[{key:"emit",value:function(){var e;(e=this._emiter).emit.apply(e,arguments)}},{key:"registerEvent",value:function(e,t){this._emiter.on(e,t)}},{key:"registerOnce",value:function(e,t){this._emiter.once(e,t)}},{key:"removeEvent",value:function(e,t){this._emiter.removeListener(e,t)}},{key:"destroy",value:function(){this._emiter.removeAllListeners(),this._emiter=null,e.instance=null}}]),e}();r.instance=null,t.exports=r,cc._RF.pop()},{events:1}]},{},["Animation","Move","mEmitter"]);